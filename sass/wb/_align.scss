@import 'init';

/* --------------------------------- */
/* GRID: ALIGN
/* --------------------------------- */

  // The breakpoint suffix must match the one used on the spans

  // Example:
    
  //  <div class='wb-grid wb-grid-align-middle-sm'>
  //    <div class='wb-span-1-2-sm'>...</div>
  //    <div class='wb-span-1-2-sm'>...</div>
  //  </div>

  @mixin wb-align-columns-at-breakpoint($breakpoint-name) {
    $breakpoint: map-get($wb-breakpoints, $breakpoint-name);
    $breakpoint-suffix: map-get($breakpoint, 'suffix');
    
    .#{$wb-prefix}grid-align-top#{$breakpoint-suffix},
    .#{$wb-prefix}grid-align-middle#{$breakpoint-suffix},
    .#{$wb-prefix}grid-align-bottom#{$breakpoint-suffix} {
      display: table;
      min-width: 100%;
      
      > [class*='#{$wb-prefix}span-'] {
        display: table-cell;
        vertical-align: top;
        float: none;
      }
    }
    
    .#{$wb-prefix}grid-align-middle#{$breakpoint-suffix} {
      > [class*='#{$wb-prefix}span-'] { vertical-align: middle; }
    }
    
    .#{$wb-prefix}grid-align-bottom#{$breakpoint-suffix} {
      > [class*='#{$wb-prefix}span-'] { vertical-align: bottom; }
    }
  }
  
  // apply column styles for each breakpoint
  $wb-processed-breakpoint-name: null;
  
  @each $wb-breakpoint-name, $wb-breakpoint in $wb-breakpoints {
    @if $wb-processed-breakpoint-name != null {
      @include wb-media('>#{$wb-processed-breakpoint-name}') {
        @include wb-align-columns-at-breakpoint($wb-breakpoint-name);
      }
    }
    @else{
      @include wb-align-columns-at-breakpoint($wb-breakpoint-name);
    }
    
    $wb-processed-breakpoint-name: $wb-breakpoint-name;
  }